(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{187:function(e,t,r){"use strict";r.r(t);r(29);var n=r(3),a=r(188),s=r(196),c=r.n(s);window.Swal=c.a;var o={data:function(){return{isLoading:!0,isLoggedIn:!1,licenseKey:""}},methods:{loginOrBuy:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===localStorage.getItem("license_key")){t.next=8;break}return r=localStorage.getItem("license_key"),t.next=4,Object(a.logOut)(r);case 4:200===t.sent.status&&(localStorage.removeItem("license_key"),e.isLoggedIn=!1,window.location.reload()),t.next=34;break;case 8:if(""!==e.licenseKey&&null!==e.licenseKey){t.next=13;break}e.$refs.myPurchaseBtn.click(),t.next=34;break;case 13:return t.next=15,Object(a.checkLicense)(e.licenseKey,"login");case 15:if(200===(n=t.sent).status){t.next=25;break}if(e.licenseKey="",Swal.fire({title:"Error!",html:"".concat(null==n?void 0:n.data.message)||"Something bad happened, try again later",icon:"error",confirmButtonText:"Ok"}),404===n.status&&setTimeout((function(){e.$refs.myPurchaseBtn.click()}),2e3),400!==n.status){t.next=23;break}return Swal.fire({title:"Error!",text:"".concat(null==n?void 0:n.data.message)||"Something bad happened, try again later",icon:"error",confirmButtonText:"Ok"}),t.abrupt("return");case 23:t.next=31;break;case 25:if(200!==n.status){t.next=31;break}return localStorage.setItem("license_key",n.data.license_key),e.licenseKey="",e.isLoggedIn=!0,Swal.fire({title:"Congratulations!",text:"You have successfully activated your Agency License!",icon:"success",confirmButtonText:"Ok"}),t.abrupt("return");case 31:return t.abrupt("return");case 34:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===localStorage.getItem("license_key")){t.next=21;break}return r=localStorage.getItem("license_key"),t.next=5,Object(a.checkLicense)(r,"ignore");case 5:if(200===(n=t.sent).status){t.next=14;break}e.isLoading=!1,localStorage.removeItem("license_key"),Swal.fire({title:"Error!",html:"".concat(null==n?void 0:n.data.message)||"Something bad happened, try again later",icon:"error",confirmButtonText:"Ok"}),404===n.status&&e.$refs.myPurchaseBtn.click(),400===n.status&&localStorage.removeItem("license_key"),t.next=18;break;case 14:if(200!==n.status){t.next=18;break}return e.isLoading=!1,e.isLoggedIn=!0,t.abrupt("return");case 18:e.isLoading=!1,t.next=22;break;case 21:e.isLoading=!1;case 22:case"end":return t.stop()}}),t)})))()}},i=r(47),l=Object(i.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return!1===e.isLoading?r("div",{staticClass:"stepC mt-1"},[!1===e.isLoggedIn?r("input",{directives:[{name:"model",rawName:"v-model",value:e.licenseKey,expression:"licenseKey"}],staticClass:"mt-2 px-2 h-12 bg-black rounded border border-transparent transition-colors duration-200 focus:outline-none focus:border-gray-600 hover:border-gray-600",attrs:{placeholder:"Enter agency license",id:"fullname",spellcheck:"false",type:"text"},domProps:{value:e.licenseKey},on:{input:function(t){t.target.composing||(e.licenseKey=t.target.value)}}}):e._e(),e._v(" "),r("script",{attrs:{src:"https://cdn.jsdelivr.net/npm/sweetalert2@9"}}),e._v(" "),r("button",{staticClass:"font-extrabold tracking-wide leading-none flex-shrink-0 p-3 border-2 text-white border-gray-700 rounded hover:bg-gray-700 focus:bg-gray-700 transition-colors duration-200",attrs:{href:"/customer-support"},on:{click:e.loginOrBuy}},[e._v("\n    "+e._s(!1===e.isLoggedIn?""!==e.licenseKey?"Activate":"Buy agency":"Logout")+"\n  ")]),e._v(" "),r("script",{attrs:{async:"",src:"//tinder.thrivecart.com/embed/v1/thrivecart.js"}}),e._v(" "),r("button",{ref:"myPurchaseBtn",staticClass:"thrivecart-button thrivecart-button-styled thrivecart-button_style-rounded thrivecart-button-custom ",staticStyle:{"background-color":"#46cea3",display:"none"},attrs:{"data-thrivecart-account":"dfy","data-thrivecart-tpl":"v2","data-thrivecart-product":"82"}},[e._v("\n    Buy Agency\n  ")])]):e._e()}),[],!1,null,null,null);t.default=l.exports},188:function(e,t){}}]);